<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lights Control with Firebase</title>
<!-- Font Awesome for light bulb icon -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
  body { font-family: Arial, sans-serif; background: #f5f5f5; margin: 0; }
  .container { max-width: 500px; margin: auto; padding: 10px; }
  .light-item {
    display: flex; justify-content: space-between; align-items: center;
    background: white; padding: 12px; margin-bottom: 8px;
    border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  }
  .light-label { flex: 1; font-size: 30px; cursor: pointer; }
  .light-icon { font-size: 50px; cursor: pointer; color: gold; }
</style>
</head>
<body>
<div class="container" id="lightsContainer"></div>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>

<script>
  // Replace with your Firebase config
  const firebaseConfig = {
  apiKey: "AIzaSyA3To9D7TAlP2cQa36Rep4lC3cnbv30Itg",
  authDomain: "automation-setup.firebaseapp.com",
  databaseURL: "https://automation-setup-default-rtdb.firebaseio.com",
  projectId: "automation-setup",
  storageBucket: "automation-setup.firebasestorage.app",
  messagingSenderId: "1090889326931",
  appId: "1:1090889326931:web:9b63cb0fdf8cd5111e01a6",
  measurementId: "G-1S0DHWH79E"
};
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  const lightsContainer = document.getElementById('lightsContainer');

  // 8 lights list
  const lights = {
    light1: { label: "Living Room" },
    light2: { label: "Kitchen" },
    light3: { label: "Bedroom" },
    light4: { label: "Bathroom" },
    light5: { label: "Garage" },
    light6: { label: "Hallway" },
    light7: { label: "Porch" },
    light8: { label: "Dining Room" }
  };

  Object.keys(lights).forEach(id => {
    const { label } = lights[id];
    const item = document.createElement("div");
    item.className = "light-item";

    const labelEl = document.createElement("div");
    labelEl.className = "light-label";
    labelEl.textContent = label;

    const iconEl = document.createElement("i");
    iconEl.className = "fas fa-lightbulb light-icon";

    // Store "on" for the clicked light
    iconEl.addEventListener("click", () => {
      db.ref("lights/" + id).set("on");
      console.log(`${id} set to ON in Firebase`);
    });

    item.appendChild(labelEl);
    item.appendChild(iconEl);
    lightsContainer.appendChild(item);
  });
</script>
</body>
</html>
